---
title: Azure Search 서비스에 대한 SKU 또는 가격 책정 계층 선택 | Microsoft Docs
description: Azure Search는 무료, 기본 및 표준 SKU로 프로비전할 수 있습니다. 여기서 표준은 다양한 리소스 구성 및 용량 수준으로 사용 가능합니다.
services: search
author: HeidiSteen
manager: cgronlun
tags: azure-portal
ms.service: search
ms.topic: conceptual
ms.date: 05/12/2018
ms.author: heidist
ms.openlocfilehash: bbf535c5b446fd654331374d29c106b6e43d55f5
ms.sourcegitcommit: 96089449d17548263691d40e4f1e8f9557561197
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/17/2018
ms.locfileid: "34266883"
---
# <a name="choose-a-pricing-tier-for-azure-search"></a>Azure Search에 대한 가격 책정 계층 선택

Azure Search에서는 특정 가격 책정 계층 또는 SKU에서 [서비스가 프로비전](search-create-service-portal.md)됩니다. 선택 사항에는 **무료**, **기본**, **표준**이 있으며 **표준**은 여러 구성 및 용량으로 사용 가능합니다. 

이 문서의 목적은 계층 선택을 도와주는 것입니다. [가격 책정 페이지](https://azure.microsoft.com/pricing/details/search/) 및 [서비스 제한](search-limits-quotas-capacity.md) 페이지를 다양한 계층과 연결된 소비 패턴 및 청구 개념의 다이제스트로 보완합니다. 요구 사항을 가장 잘 충족하는 계층을 파악하기 위한 반복적인 접근 방식이 좋습니다. 

계층은 기능이 아닌 용량을 결정합니다. 계층의 용량이 너무 적은 경우 더 높은 계층에서 새 서비스를 프로비전한 다음, [인덱스를 다시 로드](search-howto-reindex.md)해야 합니다. 하나의 SKU에서 다른 SKU로 동일한 서비스의 전체 업그레이드가 없습니다.

기능 가용성은 기본 계층 고려 사항이 아닙니다. **무료** 계층을 포함한 모든 계층은 S3HD에 대한 인덱서 지원을 제외한 기능 패리티를 제공합니다. 그러나 인덱싱 및 리소스 제약 조건은 기능 사용량의 범위를 효과적으로 제한할 수 있습니다. 예를 들어 [인식 검색](cognitive-search-concept-intro.md) 인덱싱에는 데이터 집합이 아주 작지만 않으면 무료 서비스에서 시간이 초과되는 장기 실행 기술이 있습니다.

> [!TIP]
> 대부분의 고객이 평가에 대한 **무료** 계층으로 시작한 다음, 개발에 대한 **표준**으로 옮겨갑니다. 계층을 선택하고 [검색 서비스를 프로비전](search-create-service-portal.md)한 후에는 성능 조정을 위한 [복제본 및 파티션 수를 늘릴](search-capacity-planning.md) 수 있습니다. 용량을 조정하는 시기 및 이유에 대한 자세한 내용은 [성능 및 최적화 고려 사항](search-performance-optimization.md)을 참조합니다.
>

## <a name="billing-concepts"></a>청구 개념

계층 선택에 대해 이해해야 하는 개념에는 용량 정의, 서비스 제한 및 서비스 단위가 포함됩니다. 

### <a name="capacity"></a>용량

용량은 *복제본* 및 *파티션*으로 구조화됩니다. 복제본은 각 복제본이 인덱스의 부하 분산된 복사본 하나를 호스팅하는 경우 검색 서비스의 인스턴스입니다. 예를 들어 복제본 6개가 있는 서비스에는 서비스에 로드된 모든 인덱스의 복사본 6개가 있습니다. 파티션은 인덱스를 저장하고 검색 가능한 데이터를 자동으로 분할합니다. 곧, 2개의 파티션은 인덱스를 반으로 분할하고 3개의 파티션은 3등분합니다. *파티션 크기*는 용량을 기준으로 계층 간을 구분하는 기본 기능입니다.

> [!NOTE]
> 모든 **표준** 계층은 [유연한 조합 복제본 및 파티션](search-capacity-planning.md#chart)을 지원하므로 분산을 변경하여 [속도 또는 저장소에 대해 시스템에 가중치](search-performance-optimization.md)를 줄 수 있습니다. **기본**은 고가용성에 대한 복제본 3개를 제공하지만 파티션만 있습니다. **무료** 계층은 전용 리소스를 제공하지 않습니다. 컴퓨팅 리소스는 여러 무료 서비스에서 공유하기 때문입니다.

### <a name="limits"></a>제한

서비스는 인덱스, 인덱서 등의 리소스를 호스팅합니다. 각 계층은 만들 수 있는 리소스 수량에 [서비스 제한](search-limits-quotas-capacity.md)을 적용합니다. 따라서 인덱스(및 기타 개체)의 수에 대한 한도는 계층 간을 구분하는 두 번째 기능입니다. 포털에서 각 옵션을 검토할 때 인덱스 수에 대한 제한을 참고하세요. 인덱서, 데이터 원본 및 기술 집합 같은 다른 리소스는 인덱스 제한에 맞춰 정해집니다.

### <a name="search-units"></a>검색 단위

이해할 가장 중요한 청구 개념은 *검색 단위*(SU)로서 Azure Search에 대한 청구 단위입니다. Azure Search은 기능하려면 복제본과 파티션 둘 다에 따라 달라지므로 하나만으로 청구하는 것은 의미가 없습니다. 대신, 청구는 둘 다의 복합을 기준으로 합니다. 공식에 따라 SU는 서비스에서 사용 하는 파티션 및 복제본의 산물입니다: (R X P = SU). 최소한 모든 서비스는 1SU(파티션 하나로 복제본 하나를 곱한)로 시작하지만 더 현실적인 모델은 9SU로 청구된 3개 복제본 및 3개 파티션 서비스일 수 있습니다. 

각 계층이 점진적으로 더 많은 용량을 제공한다고 해도 총 용량의 일부분을 온라인으로 가져오면서 나머지는 예비로 남겨 둘 수 있습니다. 청구 기준으로 실제로 지불할 비용을 결정하고, SU 수식을 사용하여 계산해 온라인으로 가져오는 파티션 및 복제본의 수입니다.

청구 요금은 SU당 매시간이며 각 계층마다 다른 요금을 가집니다. 각 계층에 대한 요금은 [가격 정보](https://azure.microsoft.com/pricing/details/search/)에서 확인할 수 있습니다.

## <a name="consumption-patterns"></a>소비 패턴

대부분의 고객은 무기한 유지하는 **무료** 서비스로 시작한 다음, 심각한 개발 또는 프로덕션 워크로드에 대한 **표준** 계층 중에서 하나를 선택합니다. 

![Azure 검색 계층](./media/search-sku-tier/tiers.png "Azure 검색 가격 책정 계층")

어느 한 끝에서 **기본** 및 **S3 HD**는 중요하지만 이례적인 소비 패턴에 대해 존재합니다. **기본**은 소규모 프로덕션 워크로드를 위한 것입니다. 곧, SLA, 전용 리소스, 높은 가용성 그러나 총 2GB까지 차지하는 적절한 저장소를 제공합니다. 이 계층은 사용 가능한 용량을 지속적으로 충분히 활용하지 않은 고객에 대해 엔지니어링되었습니다. 반대쪽에서 **S3 HD**는 ISV, 파트너, [다중 테넌트 솔루션](search-modeling-multitenant-saas-applications.md) 또는 많은 수의 작은 인덱스를 호출하는 모든 구성에 전형적인 워크로드를 위한 것입니다. **기본** 또는 **S3 HD** 계층이 딱 맞는 경우 자명하지만 확인을 원하면 추가 지침을 위해 [StackOverflow](https://stackoverflow.com/questions/tagged/azure-search) 또는 [Azure 지원 문의](https://azure.microsoft.com/support/options/)에 게시할 수 있습니다.

자주 사용되는 표준 계층으로 포커스를 이동하면 **S1-S3**는 파티션 크기의 변곡점 및 인덱스, 인덱서, 결과적인 리소스의 수 최대값으로 용량 수준이 계속 증가합니다.

|  | S1 | S2 | S3 |  |  |  |  |
|--|----|----|----|--|--|--|--|
| 파티션 크기|  25GB | 100GB | 250GB |  |  |  |  |
| 인덱스 및 인덱서 제한| 50 | 200 | 200 |  |  |  |  |

**S1**은 전용 리소스 및 여러 파티션이 필수적인 경우 일반적인 선택입니다. 최대 12개 파티션용 25GB 파티션으로 **S1**에 대한 서비스당 한도는 복제복에 비해 파티션을 최대화하는 경우 총 300GB입니다(더 균형 있는 컴퍼지션에 대해서는 [파티션 및 복제본 할당](search-capacity-planning.md#chart)을 참조합니다.)

포털 및 가격 책정 페이지는 파티션 크기와 저장소에 포커스를 두지만 각 계층의 경우 모든 계산 기능(디스크 용량, 속도, CPU)은 가격에 따라 선형으로 증가합니다. **S2** 복제본이 **S1**보다 빠르고 **S3**가 **S2**보다 빠릅니다. **S3** 계층은 불균형적으로 더 빠른 I/O로 일반적으로 선형 계산 가격 책정 패턴을 중단합니다. I/O가 병목 상태로 예상되는 경우 **S3**은 하위 계층보다 훨씬 많은 IOPS를 제공 합니다.

**S3** 및 **S3 HD**는 동일한 대용량 인프라에서 지원되지만 각각 서로 다른 방식으로 최대 한도에 도달합니다. **S3**은 더 적은 수의 매우 큰 인덱스를 대상으로 합니다. 따라서 최대 한도는 리소스에 종속됩니다(서비스당 2.4TB). **S3 HD**는 많은 수의 매우 작은 인덱스를 대상으로 합니다. 인덱스 수가 1,000개가 되면 **S3 HD**는 인덱스 제약 조건 형태로 한도에 도달합니다. 1000개 초과 인덱스가 필요한 **S3 HD** 고객은 Microsoft 지원에 진행 방법을 문의해야 합니다.

> [!NOTE]
> 이전에 문서 제한이 고려되었지만 2018년 1월 이후 프로비전된 대부분의 Azure Search 서비스에 대해서는 더 이상 적용되지 않습니다. 문서 제한이 여전히 적용되는 조건에 대한 자세한 내용은 [서비스 제한: 문서 제한](search-limits-quotas-capacity.md#document-limits)을 참조합니다.
>

## <a name="evaluate-capacity"></a>용량 평가

서비스를 실행하는 용량 및 비용은 밀접한 관련이 있습니다. 계층은 두 수준(저장소 및 리소스)에 제한을 두므로 먼저 도달하는 수준이 효과적인 제한이기 때문에 둘 다 고려해야 합니다. 

일반적으로 비즈니스 요구 사항은 필요할 인덱스 수를 나타냅니다. 예를 들어 문서의 대규모 리포지토리에 대한 전역 인덱스 또는 지역, 응용 프로그램 또는 틈새 비즈니스 기준의 여러 인덱스입니다.

인덱스의 크기를 결정하려면 [하나를 빌드](search-create-index-portal.md)해야 합니다. Azure Search의 데이터 구조는 주로 [반전된 인덱스](https://en.wikipedia.org/wiki/Inverted_index)로서 원본 데이터와 다른 특징이 있습니다. 반전된 인덱스의 경우 크기와 복잡성은 반드시 피드하는 데이터의 양이 아니라 콘텐츠에 따라 결정됩니다. 대규모 중복성이 있는 대형 데이터 원본은 매우 가변적 콘텐츠를 포함하는 작은 데이터 집합보다 더 작은 인덱스로 나타날 수 있습니다.  따라서 원래 데이터 집합의 크기에 따라 인덱스 크기를 유추하기는 거의 가능하지 않습니다.

### <a name="preliminary-estimates-using-the-free-tier"></a>무료 계층을 사용한 예비 추정

용량을 예측하기 위한 한 방법은 **무료** 계층으로 시작하는 것입니다. **무료** 서비스는 최대 3개 인덱스, 50MB의 저장소 및 인덱싱 시간 2분을 제공합니다. 이러한 제약 조건으로 프로젝션된 인덱스 크기를 측정하기 어려울 수 있지만 다음 예제에서 방법을 보여 줍니다.

+ [무료 서비스 만들기](search-create-service-portal.md)
+ 작고 대표적인 데이터 집합(5천 개 문서 및 10% 샘플 크기 가정) 준비
+ [초기 인덱스 빌드](search-create-index-portal.md) 및 포털에 해당 크기 기록(30MB 가정)

샘플이 대표적이며 전체 데이터 원본의 10%라고 가정할 경우 모든 문서가 인덱싱되면 30MB 인덱스가 대략 300MB로 됩니다. 이 예비 번호를 갖추면 총 600MB의 저장소 요구 사항을 위한 두 인덱스(개발 및 프로덕션)용 해당 예산액의 두 배가 될 수 있습니다. **기본** 계층으로 쉽게 만족하므로 거기서 시작합니다.

### <a name="advanced-estimates-using-a-billable-tier"></a>청구 가능 계층을 사용한 고급 견적

일부 고객은 대규모 샘플링 및 처리 시간을 수용한 다음, 개발 동안 인덱스 수량, 크기 및 쿼리 볼륨의 실제적인 예측을 개발할 수 있는 전용 리소스로 시작하기를 선호합니다. 처음에 서비스가 최상의 예상을 기반으로 프로비전된 다음, 개발 프로젝트가 완성되어가면서 팀은 대개 기존 서비스가 프로젝션된 프로덕션 워크로드에 대한 용량을 초과했는지 또는 미달했는지 알 수 있습니다. 

1. 하위 계층이 필요한 인덱스 수량을 지원할 수 있는지 여부를 결정할 [각 계층에서 서비스 제한 검토](https://docs.microsoft.com/en-us/azure/search/search-limits-quotas-capacity#index-limits)입니다. **기본**-**S1**- **S2** 계층에 대한 인덱스 제한은 각각 15-50-200입니다.

1. [청구 가능 계층에서 서비스 만들기](search-create-service-portal.md):

    + 학습 곡선의 시작 부분에 있는 경우 **기본** 또는 **S1**의 낮은 것에서 시작합니다.
    + 대규모 인덱싱 및 쿼리 부하가 자명한 경우 **S2** 또는 심지어 **S3**의 높은 것에서 시작합니다.

1. 원본 데이터가 인덱스로 변환되는 방법을 결정하려면 [초기 인덱스를 만듭니다](search-create-index-portal.md). 인덱스 크기를 추정하는 유일한 방법입니다.

1. 포털에서 [저장소, 서비스 제한, 쿼리 볼륨 및 대기 시간을 모니터링](search-monitor-usage.md)합니다. 포털은 초당 쿼리, 스로틀된 쿼리 및 검색 대기 시간을 보여주며, 이 모든 것이 올바른 계층에 있는지 결정하는 데 도움을 줄 수 있습니다. 포털 메트릭 외에도 [검색 트래픽 분석](search-traffic-analytics.md)을 사용하여 클릭 분석 등의 심층 모니터링을 구성할 수 있습니다. 

저장소(파티션)의 완전한 이용을 통해 또는 무엇이 먼저 오든 리소스(인덱스, 인덱서 등)에 대한 최대 제한으로 최대 한도에 도달하기 때문에 인덱스 수와 크기는 분석에 동일하게 적용됩니다. 포털을 사용하면 둘 모두 추적할 수 있으며, 개요 페이지에 현재 사용량 및 최대 한도가 나란히 표시됩니다.

> [!NOTE]
> 문서가 불필요한 데이터를 포함하는 경우 저장소 요구 사항이 지나치게 높을 수 있습니다. 이상적으로 문서는 검색 환경에 필요한 데이터만 포함합니다. 이진 데이터는 검색할 수 없고 외부 데이터에 대한 URL 참조를 보유하는 인덱스의 필드와 함께 별도로 저장되어야 합니다(아마도 Azure 테이블 또는 Blob 저장소). 개별 문서의 최대 크기는 16MB(한 개의 요청으로 여러 문서를 대량 업로드하는 경우 이보다 작음)입니다. 자세한 내용은 [Azure Search의 서비스 제한 사항](search-limits-quotas-capacity.md)을 참조하세요.
>

**쿼리 볼륨 고려 사항**

QPS(초당 쿼리)은 성능 조정 동안 향상되는 메트릭이지만, 처음에 매우 높은 쿼리 볼륨을 기대하지 않는 경우 일반적으로 계층 고려 사항은 아닙니다.

모든 표준 계층은 병렬 처리에 대한 부하 분산 및 추가 파티션에 대한 추가 복제본을 통해 더 빠른 쿼리 소요 시간을 지원하면서 파티션 대 복제본의 균형을 제공할 수 있습니다. 서비스를 프로비전한 후 성능을 조정할 수 있습니다.

처음부터 강력한 지속적인 쿼리 볼륨을 기대하는 고객은 더 강력한 하드웨어에서 지원하는 더 높은 계층을 고려해야 합니다. 파티션 및 복제본을 오프라인으로 가져오거나, 해당 쿼리 볼륨을 구현하지 못할 경우 하위 계층 서비스로 전환할 수도 있습니다. 쿼리 처리량을 계산하는 방법에 대한 자세한 내용은 [Azure Search 성능 및 최적화](search-performance-optimization.md)를 참조하십시오.


**서비스 수준 계약**

**무료** 계층 및 미리 보기 기능에는 [SLA(서비스 수준 계약)](https://azure.microsoft.com/support/legal/sla/search/v1_0/)가 포함되지 않습니다. 모든 청구 가능 계층에 대해 서비스에 충분한 중복성을 프로비전할 때 SLA가 적용됩니다. 쿼리(읽기) SLA에는 두 개 이상의 복제본이 필요합니다. 쿼리 및 인덱싱(읽기/쓰기) SLA에는 세 개 이상의 복제본이 필요합니다. 파티션의 수는 SLA 고려사항이 아닙니다. 

## <a name="tips-for-tier-evaluation"></a>계층 평가에 대한 팁

+ 효율적인 인덱스를 빌드하는 방법 및 새로 고침 방법론은 가장 영향력이 적음을 알아봅니다. 쿼리 작업에서 얻은 인사이트에 대해서는 [트래픽 분석 검색](search-traffic-analytics.md)이 좋습니다.

+ 메트릭이 사용 패턴(업무 시간 동안 쿼리 및 사용량이 적은 시간 동안 인덱싱)에 따라 데이터를 수집하고 쿼리에 따라 빌드하도록 허용하고, 향후 서비스 프로비전 결정을 알리기 위해 이 데이터를 사용합니다. 매시간 또는 매일 수준에서 실제적이 아니지만, 작업 수행을 보증할 정도로 수준이 충분히 오래 유지되는 경우 쿼리 볼륨에서 계획된 변경 또는 계획되지 않았지만 지속적인 변경을 수용하려면 파티션과 리소스를 역동적으로 조정할 수 있습니다.

+ 부족한 프로비저닝의 유일한 단점은 실제 요구 사항이 예상보다 많은 경우에 서비스를 종료해야 할 수 있습니다. 서비스 중단을 방지하려면 상위 계층의 동일한 구독에서 새 서비스를 만들고, 모든 앱과 요청이 새 엔드포인트를 대상으로 할 때까지 이를 나란히 실행합니다.

## <a name="next-steps"></a>다음 단계

해당 특성을 이해하려면 데이터의 하위 집합을 사용하여 초기 인덱스를 빌드하고 **무료** 계층을 시작합니다. Azure Search의 데이터 구조는 반전된 인덱스이며 여기에서 반전된 인덱스의 크기 및 복잡성은 콘텐츠로 결정됩니다. 중복성이 큰 콘텐츠는 결과적으로 불규칙성이 큰 콘텐츠보다 더 작은 인덱스가 되는 경향이 있습니다. 따라서 인덱스 저장소 요구 사항을 결정하는 것은 데이터 집합의 크기보다는 콘텐츠 특성입니다.

인덱스 크기에 대한 초기 개념이 있으면 이 문서에서 논의된 계층 중 하나인 **기본** 또는 **표준** 계층에서 [청구 가능 서비스를 프로비전](search-create-service-portal.md)합니다. 실제로 검색 가능하게 하려는 모든 데이터를 포함하려면 데이터 하위 집합에서 인위적인 제약 조건을 완화하고 [인덱스를 다시 빌드](search-howto-reindex.md)합니다.

필요한 성능과 규모를 가져오려면 필요에 따라 [파티션 및 복제본을 할당](search-capacity-planning.md)합니다.

성능 및 용량이 괜찮은 경우 완료됩니다. 그렇지 않으면 사용자의 요구에 맞춰 더 밀접하게 조정하는 다른 계층에서 검색 서비스를 다시 만듭니다.

> [!NOTE]
> 질문에 대한 자세한 도움말은 [StackOverflow](https://stackoverflow.com/questions/tagged/azure-search) 또는 [Azure 지원에 문의](https://azure.microsoft.com/support/options/)에 게시됩니다.